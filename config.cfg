# ================================
# ACME-DNS CONFIGURATION FILE
# ================================
# This config works on Render or Railway
# Just replace auth.example.com with your domain
# and ensure you have a persistent volume mounted at /var/data
# ================================

[general]
# The address and port acme-dns will listen on
listen = "0.0.0.0:80"
protocol = "http"

# The base domain acme-dns will serve under
# Example: auth.example.com
domain = "{{ACMEDNS_DOMAIN}}"

# Nameserver name (must be an NS record under your domain)
nsname = "ns1.{{ACMEDNS_DOMAIN}}"

# Administrative contact
nsadmin = "admin@{{ACMEDNS_DOMAIN}}"

# Additional NS records (if you only have one, keep this single)
records = ["ns1.{{ACMEDNS_DOMAIN}}"]

# Allow debugging logs
debug = false


# ================================
# DATABASE CONFIG
# ================================
[database]
# Database engine: sqlite3 is easiest
engine = "sqlite3"

# For Render: use /var/data (persistent disk)
# For Railway: use /data
connection = "/var/data/acme-dns.db"


# ================================
# API CONFIG
# ================================
[api]
# The IP to listen on
ip = "0.0.0.0"

# The port for the API
port = 80

# TLS settings: set to "none" since Render handles HTTPS
tls = "none"

# Disable new registrations? (false = allow)
disable_registration = false


# ================================
# LOGGING CONFIG
# ================================
[logconfig]
# Logging level: trace | debug | info | warn | error | fatal | panic
loglevel = "info"

# Log type: stdout | stderr | file
logtype = "stdout"

# If you want to write logs to a file, specify path here
# logpath = "/var/log/acme-dns.log"


# ================================
# NOTIFY CONFIG (Optional)
# ================================
[notify]
# Webhook URL to post notifications when new registration happens
# leave empty if not needed
enabled = false
url = ""
method = "POST"


# ================================
# CORS CONFIG (Optional)
# ================================
[cors]
enabled = true
allow_origins = ["*"]
allow_headers = ["*"]
